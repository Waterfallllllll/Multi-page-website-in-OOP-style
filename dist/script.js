(()=>{"use strict";class e{constructor({container:e=null,btns:t=null,prev:s=null,next:i=null,activeClass:n="",animate:a,autoPlay:r}={}){this.container=document.querySelector(e);try{this.slides=this.container.children}catch(e){}this.btns=document.querySelectorAll(t),this.slideIndex=0,this.prev=document.querySelectorAll(s),this.next=document.querySelectorAll(i),this.activeClass=n,this.animate=a,this.autoPlay=r}}class t extends e{constructor(e){super(e)}filterSlides(e){this.container&&(e<0&&(this.slideIndex=Array.from(this.slides).length-1),e>this.slides.length-1&&(this.slideIndex=0),Array.from(this.slides).forEach((e=>{e.style.display="none"})),this.slides[this.slideIndex].style.display="block")}slideIncrement(e){return this.slideIndex+=e}render(){this.container&&(this.btns.forEach((e=>{e.addEventListener("click",(()=>{Array.from(this.slides).forEach(((e,t,s)=>{e.classList.remove("animate__fadeInLeft","animate__fadeInRight")})),Array.from(this.slides).forEach(((e,t,s)=>{e.classList.add("animated","animate__fadeInUp")})),this.filterSlides(this.slideIncrement(1));try{if(2==this.slideIndex){const e=document.querySelector(".hanson");e.style.display="none",setTimeout((()=>{e.style.display="block",e.classList.add("animated","animate__fadeInUp")}),3e3)}}catch(e){}})),e.parentElement.previousElementSibling.addEventListener("click",(()=>{this.filterSlides(this.slideIndex=0)}))})),document.querySelectorAll(".prevmodule").forEach((e=>{e.addEventListener("click",(()=>{Array.from(this.slides).forEach(((e,t,s)=>{e.classList.remove("animate__fadeInLeft","animate__fadeInUp")})),Array.from(this.slides).forEach(((e,t,s)=>{e.classList.add("animated","animate__fadeInRight")})),this.filterSlides(this.slideIncrement(-1))}))})),document.querySelectorAll(".nextmodule").forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation(),Array.from(this.slides).forEach(((e,t,s)=>{e.classList.remove("animate__fadeInRight","animate__fadeInUp")})),Array.from(this.slides).forEach(((e,t,s)=>{e.classList.add("animated","animate__fadeInLeft")})),this.filterSlides(this.slideIncrement(1))}))})))}}class s{constructor(e,t){this.trigger=document.querySelectorAll(e),this.overlay=document.querySelector(t),this.close=this.overlay.querySelector(".close"),this.onPlayerStateChange=this.onPlayerStateChange.bind(this)}closeButton(){this.close.addEventListener("click",(()=>{this.overlay.style.display="none",this.player.clearVideo(),this.player.destroy()}))}triggerButton(){this.trigger.forEach(((e,t)=>{try{const s=e.closest(".module__video-item").nextElementSibling;t%2==0&&s.setAttribute("data-disabled","true")}catch(e){}e.addEventListener("click",(()=>{e.closest(".module__video-item")&&"true"===e.closest(".module__video-item").getAttribute("data-disabled")||(this.activeBtn=e,this.overlay.style.display="flex",this.createPlayer(e.getAttribute("data-url")))}))}))}createPlayer(e){this.player=new YT.Player("frame",{height:"360",width:"640",videoId:`${e}`,events:{onStateChange:this.onPlayerStateChange}})}onPlayerStateChange(e){const t=this.activeBtn.closest(".module__video-item").nextElementSibling,s=this.activeBtn.querySelector("svg").cloneNode(!0);if(0==e.data){const e=t.querySelector(".play__circle");e.classList.remove("closed"),t.style.opacity="1",e.querySelector("svg").remove(),e.appendChild(s),t.style.filter="none",t.querySelector(".play__text").textContent="play video",t.querySelector(".play__text").classList.remove("attention"),t.setAttribute("data-disabled","false")}}init(){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.triggerButton(),this.closeButton()}}class i extends e{constructor(e){super(e),this.intervalId}activeTrigger(){Array.from(this.slides).forEach((e=>{e.classList.remove(this.activeClass)})),this.slides[0].classList.add(this.activeClass),this.animate&&Array.from(this.slides).forEach(((e,t)=>{0==t?(e.querySelector(".card__title").style.opacity="1",e.querySelector(".card__controls-arrow").style.opacity="1"):(e.querySelector(".card__title").style.opacity="0.4",e.querySelector(".card__controls-arrow").style.opacity="0")}))}nextSlider(){Array.from(this.slides).forEach(((e,t)=>{e.parentElement.classList.contains("feed__slider")&&(e.nextElementSibling.classList.contains("slick-prev")||e.nextElementSibling.classList.contains("slick-next"))?0==t&&(this.container.appendChild(this.slides[t+2]),this.container.appendChild(this.slides[t+1]),this.container.appendChild(this.slides[t]),this.activeTrigger()):0==t&&(this.container.appendChild(e),this.activeTrigger())}))}bindTriggers(){this.autoPlay&&(this.container.addEventListener("mouseover",(()=>{clearInterval(this.intervalId)})),this.container.addEventListener("mouseout",(()=>{this.intervalId=setInterval((()=>this.nextSlider()),5e3)}))),this.next.forEach((e=>{e.addEventListener("click",(()=>this.nextSlider())),this.autoPlay&&(e.addEventListener("mouseover",(()=>{clearInterval(this.intervalId)})),e.addEventListener("mouseout",(()=>{this.intervalId=setInterval((()=>this.nextSlider()),5e3)})))})),this.prev.forEach((e=>{e.addEventListener("click",(()=>{Array.from(this.slides).forEach(((e,t)=>{e.parentElement.classList.contains("feed__slider")&&(this.slides[this.slides.length-1].classList.contains("slick-prev")||this.slides[this.slides.length-1].classList.contains("slick-next"))?0==t&&(this.container.insertBefore(this.slides[this.slides.length-3],this.slides[0]),this.activeTrigger()):0==t&&(this.container.insertBefore(this.slides[this.slides.length-1],this.slides[0]),this.activeTrigger())}))})),this.autoPlay&&(e.addEventListener("mouseover",(()=>{clearInterval(this.intervalId)})),e.addEventListener("mouseout",(()=>{this.intervalId=setInterval((()=>this.nextSlider()),5e3)})))}))}init(){try{this.container.style.cssText="display: flex; flex-wrap: wrap; align-items: flex-start; overflow: hidden",this.bindTriggers(),this.activeTrigger(),this.autoPlay&&(this.intervalId=setInterval((()=>this.nextSlider()),5e3))}catch(e){}}}class n{constructor(e,t,s){this.officerOld=document.querySelector(e),this.officerNew=document.querySelector(t);try{this.itemsOld=this.officerOld.querySelectorAll(s),this.itemsNew=this.officerNew.querySelectorAll(s)}catch(e){}this.itemsOldCounter=0,this.itemsNewCounter=0}addCard(e,t,s){try{e.querySelector(".plus").addEventListener("click",(()=>{s!=t.length-2?(t[s].style.display="flex",s++):(t[s].style.display="flex",t[t.length-1].remove())}))}catch(e){}}clearList(e){try{e.forEach(((e,t,s)=>{t!=s.length-1&&(e.classList.add("animated","fadeIn"),e.style.display="none")}))}catch(e){}}init(){this.clearList(this.itemsOld),this.clearList(this.itemsNew),this.addCard(this.officerOld,this.itemsOld,this.itemsOldCounter),this.addCard(this.officerNew,this.itemsNew,this.itemsNewCounter)}}class a{constructor(e){this.form=document.querySelectorAll(e),this.inputs=document.querySelectorAll("input"),this.emailInput=document.querySelectorAll("[data-email]"),this.phoneInput=document.querySelectorAll("[data-phone]"),this.spinner="../assets/img/spinner.gif",this.ok="../assets/img/ok.png",this.fail="../assets/img/fail.png"}mask(){function e(e){let t="+1 (___) ___-____",s=0,i=t.replace(/\D/g,""),n=this.value.replace(/\D/g,"");if(i.length>=n.length&&(n=i),this.value.selectionStart<2&&e.preventDefault(),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&s<n.length?n.charAt(s++):s>=n.length?"":e})),"blur"==e.type){if(2==this.value.length)return this.value=""}else((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){const s=t.createTextRange();s.collapse(!0),s.moveEnd("character",e),s.moveStart("character",e),s.select()}})(this.value.length,this)}this.phoneInput.forEach((t=>{t.addEventListener("input",e),t.addEventListener("focus",e),t.addEventListener("blur",e),t.addEventListener("keydown",e)}))}checkTextInput(){this.emailInput.forEach((e=>{e.addEventListener("keypress",(e=>{e.key.match(/[^a-z 0-9]/gi)&&e.preventDefault()})),e.addEventListener("input",(()=>{e.value.replace(/./g,(function(t){if(/[^a-z 0-9]/.test(t))return e.value=""}))}))}))}clearInputs(){this.inputs.forEach((e=>{e.value=""}))}forms(){this.checkTextInput(),this.mask(),this.form.forEach((e=>{e.addEventListener("submit",(t=>{t.preventDefault();const s=document.createElement("img");s.classList.add("animated","fadeInUp"),s.style.display="block",s.style.margin="0 auto",s.style.marginTop="20%";const i=new FormData(e);e.style.display="none",e.parentNode.append(s),s.setAttribute("src",this.spinner),this.getResources("../assets/question.php",i).then((t=>{console.log(t),e.parentNode.append(s),s.setAttribute("src",this.ok)})).catch((t=>{console.error(t),e.parentNode.append(s),s.setAttribute("src",this.fail)})).finally((()=>{setTimeout((()=>{s.remove(),e.style.display="block",e.classList.add("animated","fadeInUp"),this.clearInputs()}),2e3)}))}))}))}async getResources(e,t){const s=await fetch(e,{method:"POST",body:t});if(!s.ok)throw new Error(`Could not fetch ${url}, status: ${s.status}`);return await s.text()}}class r{constructor(e){this.trigger=document.querySelectorAll(e)}init(){this.trigger.forEach((e=>{e.addEventListener("click",(t=>{const s=e.parentElement.nextElementSibling;"block"==s.style.display?(s.classList.remove("animated","animate__fadeIn"),s.classList.add("animated","animate__fadeOut"),s.addEventListener("animationend",(function e(){s.style.display="none",s.removeEventListener("animationend",e)}))):(s.classList.remove("animated","animate__fadeOut"),s.classList.add("animated","animate__fadeIn"),s.style.display="block")}))}))}}class l{constructor(e){this.trigger=document.querySelectorAll(e),this.path="assets/img/Bitmap.jpg"}download(e){const t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","picture"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}init(){this.trigger.forEach((e=>{e.addEventListener("click",(()=>{this.download(this.path)}))}))}}window.addEventListener("DOMContentLoaded",(()=>{const e=new t({btns:".next",container:".page"});e.filterSlides(),e.render();const o=new t({container:".moduleapp",btns:".next"});o.filterSlides(),o.render(),new i({container:".showup__content-slider",prev:".showup__prev",next:".showup__next",activeClass:"card-active",animate:!0,btns:".next"}).init(),new i({container:".modules__content-slider",prev:".slick-prev",next:".slick-next",activeClass:"card-active",animate:!0,autoPlay:!0}).init(),new i({container:".feed__slider",prev:".slick-prev",next:".slick-next",activeClass:"feed__item-active"}).init(),new s(".showup .play",".overlay").init(),new s(".module__wrapper .play",".overlay").init(),new n(".officerold",".officernew",".officer__card-item").init(),new a(".form").forms(),new r(".plus").init(),new l(".download").init()}))})();